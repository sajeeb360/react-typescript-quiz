{"ast":null,"code":"import _regeneratorRuntime from \"E:\\\\react-typescript-quiz-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _toConsumableArray from \"E:\\\\react-typescript-quiz-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"E:\\\\react-typescript-quiz-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _asyncToGenerator from \"E:\\\\react-typescript-quiz-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport { shuffleArray } from \"./utils\";\nexport var Difficulty;\n\n(function (Difficulty) {\n  Difficulty[\"EASY\"] = \"easy\";\n  Difficulty[\"MEDIUM\"] = \"medium\";\n  Difficulty[\"HARD\"] = \"hard\";\n})(Difficulty || (Difficulty = {}));\n\nexport var fetchQuestions = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(amount, difficulty) {\n    var endpoint, data;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            endpoint = \"https://opentdb.com/api.php?amount=\".concat(amount, \"&category=9&difficulty=\").concat(difficulty, \"&type=multiple\");\n            _context.next = 3;\n            return fetch(endpoint);\n\n          case 3:\n            _context.next = 5;\n            return _context.sent.json();\n\n          case 5:\n            data = _context.sent;\n            return _context.abrupt(\"return\", data.results.map(function (question) {\n              return _objectSpread(_objectSpread({}, question), {}, {\n                answers: shuffleArray([].concat(_toConsumableArray(question.incorrect_answers), [question.correct_answer]))\n              });\n            }));\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function fetchQuestions(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();","map":{"version":3,"sources":["E:/react-typescript-quiz-app/src/API.ts"],"names":["shuffleArray","Difficulty","fetchQuestions","amount","difficulty","endpoint","fetch","json","data","results","map","question","answers","incorrect_answers","correct_answer"],"mappings":";;;;AAAA,SAASA,YAAT,QAA6B,SAA7B;AAaA,WAAYC,UAAZ;;WAAYA,U;AAAAA,EAAAA,U;AAAAA,EAAAA,U;AAAAA,EAAAA,U;GAAAA,U,KAAAA,U;;AAMZ,OAAO,IAAMC,cAAc;AAAA,sEAAG,iBAC5BC,MAD4B,EAE5BC,UAF4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAItBC,YAAAA,QAJsB,gDAI2BF,MAJ3B,oCAI2DC,UAJ3D;AAAA;AAAA,mBAKFE,KAAK,CAACD,QAAD,CALH;;AAAA;AAAA;AAAA,iCAKeE,IALf;;AAAA;AAKtBC,YAAAA,IALsB;AAAA,6CAMrBA,IAAI,CAACC,OAAL,CAAaC,GAAb,CAAiB,UAACC,QAAD;AAAA,qDACnBA,QADmB;AAEtBC,gBAAAA,OAAO,EAAEZ,YAAY,8BAChBW,QAAQ,CAACE,iBADO,IAEnBF,QAAQ,CAACG,cAFU;AAFC;AAAA,aAAjB,CANqB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAdZ,cAAc;AAAA;AAAA;AAAA,GAApB","sourcesContent":["import { shuffleArray } from \"./utils\";\r\n\r\nexport type Question = {\r\n  category: string;\r\n  type: string;\r\n  difficulty: string;\r\n  question: string;\r\n  correct_answer: string;\r\n  incorrect_answers: string[];\r\n};\r\n\r\nexport type QuestionState = Question & { answers: string[] };\r\n\r\nexport enum Difficulty {\r\n  EASY = \"easy\",\r\n  MEDIUM = \"medium\",\r\n  HARD = \"hard\"\r\n}\r\n\r\nexport const fetchQuestions = async (\r\n  amount: number,\r\n  difficulty: Difficulty\r\n): Promise<QuestionState[]> => {\r\n  const endpoint = `https://opentdb.com/api.php?amount=${amount}&category=9&difficulty=${difficulty}&type=multiple`;\r\n  const data = await (await fetch(endpoint)).json();\r\n  return data.results.map((question: Question) => ({\r\n    ...question,\r\n    answers: shuffleArray([\r\n      ...question.incorrect_answers,\r\n      question.correct_answer\r\n    ])\r\n  }));\r\n};\r\n"]},"metadata":{},"sourceType":"module"}